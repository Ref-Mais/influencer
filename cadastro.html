<!doctype html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Cadastro ZupOn</title>
    <link rel="stylesheet" href="./assets/css/main.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body class="cadastro">
<header>
    <div class="container">
        <div class="row justify-content-center py-4">
            <img src="assets/image/zup_on.png" alt="ZupOn">
        </div>
    </div>
</header>
<section class="cadastrar text-white">
    <div class="container">
        <div class="row align-items-center justify-content-center mb-4">
            <div class="col-md-9 d-flex align-items-center justify-content-between">
                <div class="stepByStep text-white"></div>
                <div class="progress">
                    <div class="progress-bar"></div>
                </div>
                <a href="javascript:history.back()">
                    <img src="./assets/image/close.png" alt="">
                </a>
            </div>
        </div>
        <div class="row justify-content-center">
            <div class="col-md-9 d-flex">
            <div id="steps">
                <div class="step active">
                    <div class="content">
                        <h3>Crie seu perfil na plataforma. A maneira mais segura de colaborar e monetizar seu talento com as marcas que você se identifica.</h3>
                        <form>
                            <div>
                                <div class="mb-4">
                                    <label class="mb-3" for="email">Digite seu e-mail</label>
                                    <input type="email" name="email" id="email" placeholder="Ex: seunome@gmail.com">
                                </div>
                                <div class="mb-4">
                                    <label class="mb-3" for="pass">Digite uma senha</label>
                                    <div class="boxPass">
                                    <input type="password" name="pass" id="pass" placeholder="123456" min="6">
                                    <span id="preview" class="preview fa-regular fa-eye-slash" onclick="previewPass(this)"></span>
                                    </div>
                                </div>
                                <div class="mb-4 d-flex aceiteTermos">
                                    <input type="checkbox" name="aceite" id="aceite" class="mr-3 termos" onchange="validStep1(this)">
                                    <label for="aceite">Li e concordo com os <a href="" target="_blank">Termos de Uso</a></label>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="d-flex align-items-center w-100">
                        <button onclick="nextStep()" class="next" disabled="true">Próximo</button>
                    </div>
                </div>
                <div class="step">
                    <div class="content">
                        <h3>Agora pediremos algumas informações sobre você.</h3>
                        <form>
                            <div>
                                <div class="mb-4">
                                    <label class="mb-3" for="nome">Primeiro nome</label>
                                    <input type="text" name="nome" id="nome" placeholder="José">
                                </div>
                                <div class="mb-4">
                                    <label class="mb-3" for="tel">Telefone com DDD</label>
                                    <input type="text" name="tel" id="tel" placeholder="+ 55 (11) 9222-2222">
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="d-flex align-items-center w-100">
                    <button onclick="nextStep()" class="next">Próximo</button>
                    </div>
                </div>
                <div class="step">
                    <div class="content">
                        <h3>Quais suas especialidades como criador de conteúdo?</h3>
                        <p>Buscas Paixões / Temas que fala:</p>
                        <div class="autocomplete">
                            <input id="autoComplete" type="hidden" name="autoComplete" placeholder="Busque suas paixões">
                        </div>
                        <div class="selcionePaixoes mb-5">
                            <div id="paixoes"></div>
                            <div id="options">
                                <div class="d-flex">
                                    <input type="checkbox" name="selecaoPiaxoes[]" value="p1" id="p1">
                                    <label for="p1">Paixão 1</label>
                                </div>
                                <div class="d-flex">
                                    <input type="checkbox" name="selecaoPiaxoes[]" value="p2" id="p2">
                                    <label for="p2">Paixão 2</label>
                                </div>
                                <div class="d-flex">
                                    <input type="checkbox" name="selecaoPiaxoes[]" value="p3" id="p3">
                                    <label for="p3">Paixão 3</label>
                                </div>
                                <div class="d-flex">
                                    <input type="checkbox" name="selecaoPiaxoes[]" value="p4" id="p4">
                                    <label for="p4">Paixão 4</label>
                                </div>
                                <div class="d-flex">
                                    <input type="checkbox" name="selecaoPiaxoes[]" value="p5" id="p5">
                                    <label for="p5">Paixão 5</label>
                                </div>
                                <div class="d-flex">
                                    <input type="checkbox" name="selecaoPiaxoes[]" value="p6" id="p6">
                                    <label for="p6">Paixão 6</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="d-flex align-items-center w-100">
                        <button onclick="prevStep()" class="prev">voltar</button>
                        <button onclick="nextStep()" class="next">Próximo</button>
                    </div>
                </div>
                <div class="step">
                    <div class="content">
                        <h3>Selecione os aspectos pessoais que lhe representam</h3>
                        <p>Selecione todas as opções válidas</p>
                        <div class="selcioneOpcoes mb-5">
                            <div id="validas"></div>
                            <div id="todasOptions">
                                <div class="d-flex">
                                    <input type="checkbox" name="selecaoOpnioes[]" value="p1" id="op1">
                                    <label for="op1">Opções 1</label>
                                </div>
                                <div class="d-flex">
                                    <input type="checkbox" name="selecaoOpnioes[]" value="p2" id="op2">
                                    <label for="op2">Opções 2</label>
                                </div>
                                <div class="d-flex">
                                    <input type="checkbox" name="selecaoOpnioes[]" value="p3" id="op3">
                                    <label for="op3">Opções 3</label>
                                </div>
                                <div class="d-flex">
                                    <input type="checkbox" name="selecaoOpnioes[]" value="p4" id="op4">
                                    <label for="op4">Opções 4</label>
                                </div>
                                <div class="d-flex">
                                    <input type="checkbox" name="selecaoOpnioes[]" value="p5" id="op5">
                                    <label for="op5">Opções 5</label>
                                </div>
                                <div class="d-flex">
                                    <input type="checkbox" name="selecaoOpnioes[]" value="p6" id="op6">
                                    <label for="op6">Opções 6</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="d-flex align-items-center w-100">
                        <button onclick="prevStep()" class="prev">voltar</button>
                        <button onclick="nextStep()" class="next">Próximo</button>
                    </div>
                </div>
                <div class="step">
                    <div class="content">
                        <h3>Agora é só preencher as redes sociais que deseja disponibilizar</h3>
                        <div id="sociais">
                            <div class="canais">
                                <label for="nomeCanal">Nome do canal</label>
                                <input type="text" name="nomeCanal" id="nomeCanal" placeholder="Ex; Criando Ideias">
                                <select name="social" onchange="redeSociais(this)">
                                    <option value="">Escolha uma rede social</option>
                                    <option value="https://instagram.com/@">Instagram</option>
                                    <option value="https://facebook.com/@">Facebook</option>
                                    <option value="https://twitter.com/@">Twitter</option>
                                    <option value="https://tiktok.com/@">TikTok</option>
                                </select>
                                <div class="previewSocial d-flex">
                                    <div class="redesocial"></div>
                                    <input type="text" name="arroba" placeholder="nomedeusuario">
                                </div>
                            </div>
                        </div>
                        <span onclick="addCanal()">+ Adicionar rede social</span>
                    </div>
                    <div class="d-flex align-items-center w-100">
                    <button onclick="prevStep()" class="prev">voltar</button>
                    <button class="next" onclick="window.location.href ='cadastro-completo.html'">Concluir</button>
                    </div>
                </div>
            </div>
            </div>
        </div>
    </div>
</section>
</body>
<script src="https://unpkg.com/imask"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.1/dist/jquery.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/js/all.min.js" integrity="sha512-rpLlll167T5LJHwp0waJCh3ZRf7pO6IT1+LZOhAyP6phAirwchClbTZV3iqL3BMrVxIYRbzGTpli4rfxsCK6Vw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</html>
<script>
    var element = document.getElementById('tel');
    var maskOptions = {
        mask: '+00 (00) 0 0000-0000'
    };
    var mask = IMask(element, maskOptions);
    let paixoes = [];
    let opcoes =[];
    let i;

    document.querySelector('.selcionePaixoes').addEventListener('change', function(){
        paixoes = document.querySelectorAll('input[name="selecaoPiaxoes[]"]');

        let paixoesArr = Array.prototype.slice.call(paixoes);
        for(let i = 0; i < paixoesArr.length; i++){
            if(paixoesArr[i].checked == true){
                document.getElementById('paixoes').appendChild(paixoesArr[i].parentNode)
            } else {
                document.getElementById('options').appendChild(paixoesArr[i].parentNode)
            }
        }

    })
    document.querySelector('.selcioneOpcoes').addEventListener('change', function(){
        opcoes = document.querySelectorAll('input[name="selecaoOpnioes[]"]');

        let paixoesArr = Array.prototype.slice.call(opcoes);
        for(let i = 0; i < paixoesArr.length; i++){
            if(paixoesArr[i].checked == true){
                document.getElementById('validas').appendChild(paixoesArr[i].parentNode)
            } else {
                document.getElementById('todasOptions').appendChild(paixoesArr[i].parentNode)
            }
        }

    })

    const steps = document.querySelectorAll('.step')
    const progress = document.querySelector('.progress-bar')
    let stepActive
    let position
    for(i = 0; i < steps.length; i++){
        if(steps[i].classList.contains('active')){
            stepActive = i + 1;
            position = i
        }
    }
    document.querySelector('.stepByStep').innerHTML = stepActive +' / ' + steps.length;

    progress.style.width = (stepActive / steps.length)*100 +'%';

    function validStep1(e){
        if(e.checked == true ){
            document.querySelectorAll('button.next')[0].disabled = false
        } else {
            document.querySelectorAll('button.next')[0].disabled = true
        }
    }

    function nextStep() {
        steps[position].classList.remove('active');
        steps[position+1].classList.add('active');
        stepActive++
        position++
        document.querySelector('.stepByStep').innerHTML = stepActive +' / ' + steps.length;
        progress.style.width =  (stepActive / steps.length)*100 +'%';
    }

    function prevStep() {
        steps[position].classList.remove('active');
        steps[position-1].classList.add('active');
        stepActive--
        position--
        document.querySelector('.stepByStep').innerHTML = stepActive +' / ' + steps.length;
        progress.style.width =  (stepActive / steps.length)*100 +'%';
    }

    function previewPass(e) {

        e.classList.toggle('fa-eye-slash')
        e.classList.toggle('fa-eye')
        const x = document.getElementById('pass');
        (x.type === "password") ? x.type = "text": x.type = "password";
    }

    const canalPrincipal = document.getElementById("sociais").lastElementChild

    function addCanal() {
        const Canal = canalPrincipal.cloneNode(true)
        document.getElementById('sociais').appendChild(Canal)
    }

    function redeSociais(e){
        let canais = document.querySelectorAll('.canais')

        for(let i = 0; i < canais.length; i++){
            canais[i].querySelector('.redesocial').innerHTML = canais[i].querySelector('select[name="social"]').value
        }
    }
</script>
